<!DOCTYPE html>
<html>
  <head>
    <title>Simple Map</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Droid+Sans|Droid+Sans:bold">
    <style>
      
      
      * { 
        box-sizing: border-box ;
        margin: 0px;
        padding: 0px;
      }
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px;
      }
      #map-logo-header {
        position: absolute;
        width:100%;
        height:45px;
        background-color: #111125;
        opacity: 1;
        top:0;
      }
      #logo {
        color:#fff;
        text-align: center;
        font-size: 20px;
        font-family: 'Droid Sans';
        letter-spacing: 3px;
        line-height: 45px;
      }
      
      #map-info-header {
        position: absolute;
        width: 100%;
        height:50px;
        top:45px;
        background-color: #fff;
      }
      
      #map-footer {
        position: absolute;
        bottom:0;
        height:80px;
        width:100%;
        background-color: #fff;
      }
      #marker {
        position: absolute;
        top:35%;
        left:37%;
        border-radius: 90px;
        border:4px solid blue;
        width:150px;
        height:150px;
        padding:40px 0 0 60px;

      }
      #marker img {
        height:40px;
      }
      
    
    
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
    <script src="//google-maps-utility-library-v3.googlecode.com/svn/trunk/geolocationmarker/src/geolocationmarker-compiled.js"></script>

    

    
    <script>
    function initialize() {
        var map, GeoMarker;
      // var myLatlng = new google.maps.LatLng(37.790234970864, -122.39031314844);
      var mapOptions = {
          center: new google.maps.LatLng(37.790234970864, -122.39031314844),
          zoom: 16,
          mapTypeId: google.maps.MapTypeId.ROADMAP,
          disableDefaultUI: true
      };
      var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
      var GeoMarker = new GeolocationMarker(map);

       GeoMarker = new GeolocationMarker();
        GeoMarker.setCircleOptions({visible: 'false', strokeOpacity : 0});

        google.maps.event.addListenerOnce(GeoMarker, 'position_changed', function() {
          map.setCenter(this.getPosition());
          map.fitBounds(this.getBounds());
        });

        google.maps.event.addListener(GeoMarker, 'geolocation_error', function(e) {
          alert('There was an error obtaining your position. Message: ' + e.message);
        });

        GeoMarker.setMap(map);
/*
      var marker = new google.maps.Marker({
          position: myLatlng,
          map: map,
          title: 'Hello World!'
      });    
    
*/
    }
function add_marker( event ) {
    lat = event.latLng.lat;
    lng = event.latLng.lng;
    console.log(lat);
    console.log(lng);
    // ajax code here that posts the lat/lng to the server
    // only call the remaining code to add the marker if it was successful
    var marker = new google.maps.Marker({
        position: event.latLng,
        map: map // put the handle of your map here
    });
}

google.maps.event.addDomListener(window, 'load', initialize);
  if(!navigator.geolocation) {
        alert('Your browser does not support geolocation');
      }
//google.maps.event.addListener(this.map, 'click', add_marker);

    </script>
  </head>
  <body>
    <div id="map-canvas"></div>
    <div id='map-logo-header'>
      <div id='logo'>Parkour</div>
    </div>
    <div id='map-info-header'></div>
    <div id='map-footer'>
    </div>
    <div id='marker'> <img src='/images/flag_icon.svg'/></div>
  </body>
</html>